{"ast":null,"code":"var _jsxFileName = \"/home/facrekcfm/Documents/Develop/projeto_integrador_2/frontend/src/views/planner/agenda/agenda.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport traducao from \"./traducao\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"./agenda.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Agenda = ({\n  eventos\n}) => {\n  _s();\n  const [events, setEvents] = useState();\n  const localizer = momentLocalizer(moment);\n  const eventss = [{\n    title: \"Recurring Event\",\n    start: moment().startOf(\"day\").add(2, \"hours\").toDate(),\n    end: moment().startOf(\"day\").add(4, \"hours\").toDate(),\n    allDay: false,\n    rrule: {\n      freq: \"weekly\",\n      interval: 1,\n      byweekday: [moment().day(\"Monday\").weekday()]\n    }\n  }];\n  console.log(\"RECEBI EVENTOS\", eventos);\n\n  // os eventos podem ser turmas (aulas) ou pagamentos\n\n  // turmas virao com horario_inicial, horario_final, dia_semana\n  // pagamentos virao com data\n\n  useEffect(() => {\n    const eventosFormatados = [];\n    if (!eventos) return;\n    eventos.forEach(evento => {\n      if (evento.horario_inicial) {\n        // o horario_inicial e horario_final sao strings no formato hh:mm\n        const horarioInicial = moment(evento.horario_inicial, \"HH:mm\");\n        const horarioFinal = moment(evento.horario_final, \"HH:mm\");\n\n        // o dia_semana é um numero de 1 a 7, onde 1 é segunda e 7 é domingo\n        const diaSemana = evento.dia_semana;\n        const eventoFormatado = {\n          title: `${evento.disciplina}`,\n          start: horarioInicial.day(diaSemana).toDate(),\n          end: horarioFinal.day(diaSemana).toDate(),\n          allDay: false\n        };\n        eventosFormatados.push(eventoFormatado);\n      } else if (evento.data) {\n        const data = moment(evento.data);\n        const eventoFormatado = {\n          title: `Pagamento ${evento.aluno.nome}`,\n          start: data.toDate(),\n          end: data.toDate(),\n          allDay: true\n        };\n        eventosFormatados.push(eventoFormatado);\n      }\n      console.log(\"EVENTS => \", eventosFormatados);\n      setEvents(eventosFormatados);\n    });\n  }, [eventos]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"agenda\",\n    children: /*#__PURE__*/_jsxDEV(Calendar, {\n      messages: traducao,\n      localizer: localizer,\n      events: events,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      views: [\"day\", \"week\", \"month\"],\n      selectable: false,\n      eventPropGetter: () => ({\n        className: \"read-only-event\"\n      }),\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(Agenda, \"r6UlbhAGMDOgJaaauw3OeVbf4pY=\");\n_c = Agenda;\nexport default Agenda;\nvar _c;\n$RefreshReg$(_c, \"Agenda\");","map":{"version":3,"names":["React","useState","useEffect","moment","Calendar","momentLocalizer","traducao","jsxDEV","_jsxDEV","Agenda","eventos","_s","events","setEvents","localizer","eventss","title","start","startOf","add","toDate","end","allDay","rrule","freq","interval","byweekday","day","weekday","console","log","eventosFormatados","forEach","evento","horario_inicial","horarioInicial","horarioFinal","horario_final","diaSemana","dia_semana","eventoFormatado","disciplina","push","data","aluno","nome","className","children","messages","startAccessor","endAccessor","views","selectable","eventPropGetter","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/facrekcfm/Documents/Develop/projeto_integrador_2/frontend/src/views/planner/agenda/agenda.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport traducao from \"./traducao\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"./agenda.css\";\n\nconst Agenda = ({ eventos }) => {\n  const [events, setEvents] = useState();\n  const localizer = momentLocalizer(moment);\n\n  const eventss = [\n    {\n      title: \"Recurring Event\",\n      start: moment().startOf(\"day\").add(2, \"hours\").toDate(),\n      end: moment().startOf(\"day\").add(4, \"hours\").toDate(),\n      allDay: false,\n      rrule: {\n        freq: \"weekly\",\n        interval: 1,\n        byweekday: [moment().day(\"Monday\").weekday()],\n      },\n    },\n  ];\n\n  console.log(\"RECEBI EVENTOS\", eventos)\n\n  // os eventos podem ser turmas (aulas) ou pagamentos\n\n  // turmas virao com horario_inicial, horario_final, dia_semana\n  // pagamentos virao com data\n\n  useEffect(() => {\n    const eventosFormatados = [];\n    if(!eventos) return;\n    eventos.forEach((evento) => {\n      if (evento.horario_inicial) {\n        // o horario_inicial e horario_final sao strings no formato hh:mm\n        const horarioInicial = moment(evento.horario_inicial, \"HH:mm\");\n        const horarioFinal = moment(evento.horario_final, \"HH:mm\");\n\n        // o dia_semana é um numero de 1 a 7, onde 1 é segunda e 7 é domingo\n        const diaSemana = evento.dia_semana;\n\n        const eventoFormatado = {\n          title: `${evento.disciplina}`,\n          start: horarioInicial\n            .day(diaSemana)\n            .toDate(),\n          end: horarioFinal\n            .day(diaSemana)\n            .toDate(),\n          allDay: false,\n        };\n\n        eventosFormatados.push(eventoFormatado);\n      } else if (evento.data) {\n        const data = moment(evento.data);\n\n        const eventoFormatado = {\n          title: `Pagamento ${evento.aluno.nome}`,\n          start: data.toDate(),\n          end: data.toDate(),\n          allDay: true,\n        };\n\n        eventosFormatados.push(eventoFormatado);\n      }\n      console.log(\"EVENTS => \", eventosFormatados);\n      setEvents(eventosFormatados);\n    });\n  }, [eventos]);\n\n  return (\n    <div className=\"agenda\">\n      <Calendar\n        messages={traducao}\n        localizer={localizer}\n        events={events}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        views={[\"day\", \"week\", \"month\"]}\n        selectable={false}\n        eventPropGetter={() => ({ className: \"read-only-event\" })}\n        style={{ width: \"100%\", height: \"100%\" }}\n      />\n    </div>\n  );\n};\n\nexport default Agenda;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}